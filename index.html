<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <title>Mid AF Official Site</title>
    <meta name="description" content="Official website for the band Mid AF.">
    <meta name="keywords" content="Mid AF, hard rock, rock music, metal, mysterious music, music project, band, interactive">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://MidAF-official.com/">
    <meta property="og:title" content="Mid AF Official Site">
    <meta property="og:description" content="Official website for the band Mid AF.">
    <meta property="og:image" content="https://MidAF-official.com/assets/share-image.jpg">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://MidAF-official.com/">
    <meta property="twitter:title" content="Mid AF Official Site">
    <meta property="twitter:description" content="Official website for the band Mid AF.">
    <meta property="twitter:image" content="https://MidAF-official.com/assets/share-image.jpg">

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@800&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #0a0a0a;
            color: #d4af37;
            overflow: hidden;
            position: relative;
            height: 100dvh;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuOCIgbnVtT2N0YXZlcz0iMyIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWx0ZXI9InVybCgjam5vaXNlKSIgb3BhY2l0eT0iMC4wMiIvPjwvc3ZnPg==');
            pointer-events: none;
            z-index: 1;
        }

        .border {
            position: absolute;
            background-color: #d4af37;
            z-index: 10;
            filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.7));
        }

        .border-top-left { top: 34px; left: 20px; height: 3px; width: calc(50% - 100px); }
        .border-top-right { top: 34px; right: 20px; height: 3px; width: calc(50% - 100px); }
        .border-bottom-left { bottom: 45px; left: 20px; height: 3px; width: calc(50% - 100px); }
        .border-bottom-right { bottom: 45px; right: 20px; height: 3px; width: calc(50% - 100px); }
        .border-left { top: 34px; left: 20px; width: 3px; height: calc(100% - 79px); }
        .border-right { top: 34px; right: 20px; width: 3px; height: calc(100% - 79px); }

        /* --- CHANGE: Styles for image logo container --- */
        .logo-area { 
            position: absolute; 
            top: 15px; /* Adjusted positioning slightly */
            left: 50%; 
            transform: translateX(-50%); 
            width: 109px; /* Set to desired display width */
            height: 50px; /* Set to desired display height */
            z-index: 20; 
        }

        /* --- CHANGE: Style for the logo image itself --- */
        .logo-area img {
            width: 100%; /* Make image fill the container */
            height: auto; /* Maintain aspect ratio */
            filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.6)); /* Add a glow effect to the image */
        }

        .music-button { position: absolute; bottom: 25px; left: 50%; transform: translateX(-50%); background: linear-gradient(45deg, #a88a2c, #d4af37); color: #0a0a0a; border: 1px solid rgba(212, 175, 55, 0.5); padding: 12px 35px; font-size: 16px; font-weight: bold; letter-spacing: 3px; border-radius: 6px; cursor: pointer; transition: all 0.3s ease; z-index: 20; box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2); }
        .music-button:hover { transform: translateX(-50%) translateY(-2px); background: linear-gradient(45deg, #d4af37, #f4d03f); box-shadow: 0 6px 20px rgba(212, 175, 55, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3); }
        #three-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 5; }
        #loading { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 18px; z-index: 30; }

        #cookie-banner { position: fixed; bottom: -100%; left: 0; width: 100%; background: rgba(10, 10, 10, 0.85); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); color: #ccc; padding: 15px; text-align: center; z-index: 1000; font-size: 14px; transition: bottom 0.5s ease-in-out; display: flex; justify-content: center; align-items: center; }
        #cookie-banner.visible { bottom: 0; }
        #cookie-banner p { margin: 0 15px 0 0; }
        #cookie-banner button { background: #d4af37; color: #0a0a0a; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: bold; transition: background 0.3s; }
        #cookie-banner button:hover { background: #f4d03f; }

        @media (max-width: 768px) {
            .border-top-left, .border-top-right, .border-bottom-left, .border-bottom-right { width: calc(50% - 80px); }
            .logo-area { 
                width: 90px; /* Smaller logo on mobile */
                height: auto;
                top: 25px; 
            }
            .music-button { padding: 10px 25px; font-size: 14px; bottom: 22px; }
            #cookie-banner { flex-direction: column; }
            #cookie-banner p { margin: 0 0 10px 0; }
        }
    </style>
</head>

<body>
    <div class="border border-top-left"></div>
    <div class="border border-top-right"></div>
    <div class="border border-bottom-left"></div>
    <div class="border border-bottom-right"></div>
    <div class="border border-left"></div>
    <div class="border border-right"></div>

    <!-- --- CHANGE: Replaced text div with an image logo --- -->
    <div class="logo-area">
        <img src="assets/logo.png" alt="Mid AF Band Logo">
    </div>

    <div id="loading">LOADING...</div>
    <canvas id="three-canvas"></canvas>
    <button class="music-button">???</button>

    <div id="cookie-banner">
        <p>This site does not use cookies or track you in any way. We value your privacy.</p>
        <button id="cookie-accept">OK</button>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        // The JavaScript part remains unchanged.
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        function handleCookieBanner() {
            const banner = document.getElementById('cookie-banner');
            const acceptBtn = document.getElementById('cookie-accept');

            if (localStorage.getItem('privacyPolicyAccepted') !== 'true') {
                setTimeout(() => {
                    banner.classList.add('visible');
                }, 1500);
            }

            acceptBtn.addEventListener('click', () => {
                banner.classList.remove('visible');
                localStorage.setItem('privacyPolicyAccepted', 'true');
            });
        }

        let scene, camera, renderer, skull, dustParticles;
        const mousePos = { x: 0, y: 0 };
        const targetRot = { x: 0, y: 0 };
        let hasInteracted = false;
        let interactionTimeout;

        function init() {
            handleCookieBanner();
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x0a0a0a, 5, 20);
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 3.5;
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.outputColorSpace = THREE.SRGBColorSpace;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1.2;
            setupLighting();
            loadSkullModel();
            createDustParticles();
            setupEventListeners();
            animate();
        }

        function setupLighting() {
            const ambientLight = new THREE.AmbientLight(0x404040, 1.0);
            scene.add(ambientLight);
            const keyLight = new THREE.DirectionalLight(0xffffff, 1.5);
            keyLight.position.set(5, 5, 5);
            scene.add(keyLight);
            const rimLight = new THREE.DirectionalLight(0xd4af37, 1.0);
            rimLight.position.set(-5, 0, -3);
            scene.add(rimLight);
            const fillLight = new THREE.HemisphereLight(0xffffff, 0x404040, 0.5);
            scene.add(fillLight);
        }

        function loadSkullModel() {
            const loader = new GLTFLoader();
            const loadingIndicator = document.getElementById('loading');

            loader.load('assets/skull/skull.gltf', (gltf) => {
                const solidMesh = gltf.scene;
                const wireframeMesh = solidMesh.clone();
                const wireframeMaterial = new THREE.MeshBasicMaterial({
                    color: 0xd4af37,
                    wireframe: true,
                    transparent: true,
                    opacity: 0.8
                });
                wireframeMesh.traverse((child) => {
                    if (child.isMesh) {
                        child.material = wireframeMaterial;
                    }
                });
                skull = new THREE.Group();
                skull.add(solidMesh);
                skull.add(wireframeMesh);
                const box = new THREE.Box3().setFromObject(skull);
                const size = box.getSize(new THREE.Vector3());
                const maxDim = Math.max(size.x, size.y, size.z);
                const scale = 3.0 / maxDim;
                skull.scale.set(scale, scale, scale);
                const center = box.getCenter(new THREE.Vector3());
                skull.position.sub(center.multiplyScalar(scale));
                skull.position.y += 0.3;
                scene.add(skull);
                loadingIndicator.style.display = 'none';

            }, undefined, (error) => {
                console.error('An error happened loading the model:', error);
                loadingIndicator.textContent = 'ERROR LOADING MODEL';
            });
        }

        function createDustParticles() {
            const dustGeometry = new THREE.BufferGeometry();
            const dustCount = 6000;
            const positions = new Float32Array(dustCount * 3);
            for (let i = 0; i < dustCount; i++) {
                const i3 = i * 3;
                positions[i3] = (Math.random() - 0.5) * 20;
                positions[i3 + 1] = (Math.random() - 0.5) * 15;
                positions[i3 + 2] = (Math.random() - 0.5) * 15;
            }
            dustGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            const dustMaterial = new THREE.PointsMaterial({
                color: 0xcccccc,
                size: 0.015,
                transparent: true,
                opacity: 0.25,
                blending: THREE.AdditiveBlending,
                sizeAttenuation: true
            });
            dustParticles = new THREE.Points(dustGeometry, dustMaterial);
            scene.add(dustParticles);
        }

        function onPointerMove(event) {
            const clientX = event.touches ? event.touches[0].clientX : event.clientX;
            const clientY = event.touches ? event.touches[0].clientY : event.clientY;
            mousePos.x = (clientX / window.innerWidth) * 2 - 1;
            mousePos.y = -(clientY / window.innerHeight) * 2 + 1;
            hasInteracted = true;
            clearTimeout(interactionTimeout);
            interactionTimeout = setTimeout(() => {
                hasInteracted = false;
            }, 3000);
        }

        function setupEventListeners() {
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
            document.addEventListener('mousemove', onPointerMove);
            document.addEventListener('touchmove', onPointerMove, {
                passive: false
            });
        }

        const clock = new THREE.Clock();
        function animate() {
            requestAnimationFrame(animate);
            const elapsedTime = clock.getElapsedTime();
            if (skull) {
                if (hasInteracted) {
                    targetRot.x = -mousePos.y * 0.3;
                    targetRot.y = mousePos.x * 0.5;
                } else {
                    targetRot.x = Math.sin(elapsedTime * 0.5) * 0.1;
                    targetRot.y = Math.cos(elapsedTime * 0.3) * 0.2;
                }
                skull.rotation.x += (targetRot.x - skull.rotation.x) * 0.05;
                skull.rotation.y += (targetRot.y - skull.rotation.y) * 0.05;
            }
            if (dustParticles) {
                dustParticles.rotation.y = elapsedTime * 0.05;
                dustParticles.rotation.x = elapsedTime * 0.02;
            }
            renderer.render(scene, camera);
        }

        init();
    </script>
</body>

</html>